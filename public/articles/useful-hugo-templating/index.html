<!doctype html>
<html lang="en">

<head>
    <meta name="generator" content="Hugo 0.135.0">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


<link rel="stylesheet" href="/ypertex.css">
<link rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Montserrat+Alternates:700,700i|Montserrat:400,400i,700,700i&display=swap">
<link rel="stylesheet"
    href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
<title>Useful Hugo Templating · Ypertex Blog</title>
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<meta name="msapplication-square70x70logo" content="/smalltile.png" />
<meta name="msapplication-square150x150logo" content="/mediumtile.png" />
<meta name="msapplication-wide310x150logo" content="/widetile.png" />
<meta name="msapplication-square310x310logo" content="/largetile.png" />
<meta property="og:logo" content="https://blog.ypertex.com//android-chrome-192x192.png">
<meta property="og:url" content="https://blog.ypertex.com/articles/useful-hugo-templating/">
  <meta property="og:site_name" content="Ypertex Blog">
  <meta property="og:title" content="Useful Hugo Templating">
  <meta property="og:description" content="Developing templates for the static website generator Hugo? Then these advanced tips &amp; tricks might be helpful to you.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="articles">
    <meta property="article:published_time" content="2020-04-12T00:00:00+00:00">
    <meta property="article:modified_time" content="2020-04-12T00:00:00+00:00">
    <meta property="article:tag" content="Design">
    <meta property="article:tag" content="Likes">
    <meta property="article:tag" content="Tutorials">
    <meta property="og:image" content="https://res.cloudinary.com/ypertex/image/upload/c_fill,dpr_auto,f_auto,g_auto,h_630,q_auto,w_1200/7d143c90-862c-4e74-9275-763746bf95f0">


<meta property="article:author" content="Michael Schmidle" />

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://res.cloudinary.com/ypertex/image/upload/c_fill,dpr_auto,f_auto,g_auto,h_630,q_auto,w_1200/7d143c90-862c-4e74-9275-763746bf95f0">
  <meta name="twitter:title" content="Useful Hugo Templating">
  <meta name="twitter:description" content="Developing templates for the static website generator Hugo? Then these advanced tips &amp; tricks might be helpful to you.">


</head>

<body>
    <header>
    <nav class="navbar">
        <div class="container">
            <a class="navbar-brand"
                href="/"><svg width="100%" height="100%" viewBox="0 0 440 176" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-2574,-792)">
        <g id="Unprotected-primary-color-logogram-on-transparent-background" serif:id="Unprotected primary color logogram on transparent background" transform="matrix(1.12719,0,0,0.885774,2612.5,797.543)">
            <rect x="-34.159" y="-6.258" width="390.352" height="198.696" style="fill:none;"/>
            <clipPath id="_clip1">
                <rect x="-34.159" y="-6.258" width="390.352" height="198.696"/>
            </clipPath>
            <g clip-path="url(#_clip1)">
                <g transform="matrix(3.69565,0,0,4.16217,-240.2,-272.956)">
                    <g transform="matrix(0.105625,-6.62507e-18,5.86335e-18,0.119347,45.1899,52.1434)">
                        <path d="M100,500L300,300L100,100L167.274,100C252.258,100 333.761,133.757 393.857,193.846C397.723,197.712 400,199.988 400,199.988L500,99.976L699.976,100L800,200.024L900,100L1100,100L900,300L1100,500L1032.74,500C947.747,500 866.238,466.238 806.141,406.141C802.276,402.276 800,400 800,400L700,500L500,500L700,300L600,200.024L300,500L100,500Z" style="fill:rgb(0,170,255);"/>
                    </g>
                    <g transform="matrix(0.105625,0,0,0.119347,45.1899,40.2116)">
                        <path d="M500,599.976L900,199.976L700,199.953L300,599.976L500,599.976Z" style="fill:rgb(14,17,18);fill-opacity:0.2;"/>
                    </g>
                </g>
            </g>
        </g>
    </g>
</svg>
</a>
            <button type="button" data-toggle="collapse" data-target="#menuHeader" aria-controls="menu.header"
                aria-expanded="false" aria-label="Toggle navigation">
                <i class="las la-bars"></i>
            </button>
            <div class="navbar-collapse collapse" id="menuHeader">
                <div class="navbar-nav mr-md-auto">
                    
                    
                    <a href="/articles/"
                        class="nav-item nav-link active">Articles</a>
                    
                    <a href="/tags/"
                        class="nav-item nav-link">Tags</a>
                    
                </div>
                <div class="navbar-nav">
                    <hr>
                    
                    <a href="https://www.linkedin.com/in/MichaelSchmidle" class="nav-item nav-link" title="LinkedIn"><i class="lab la-linkedin-in"></i><span
                            class="d-md-none"> LinkedIn</span></a>
                    
                    <a href="https://github.com/MichaelSchmidle/" class="nav-item nav-link" title="GitHub"><i class="lab la-github"></i><span
                            class="d-md-none"> GitHub</span></a>
                    
                    <a href="https://soundcloud.com/michaelschmidle/" class="nav-item nav-link" title="SoundCloud"><i class="lab la-soundcloud"></i><span
                            class="d-md-none"> SoundCloud</span></a>
                    
                    <a href="/index.xml" class="nav-item nav-link" title="RSS"><i
                            class="las la-rss"></i><span class="d-md-none"> RSS</span></a>
                </div>
            </div>
        </div>
    </nav>
</header>
    <main>
        
<section class="jumbotron">
    <div class="container">
        <h1>Useful Hugo Templating</h1>
        <p class="text-muted mb-2"><small><i
            class="las la-upload"></i>&nbsp;Apr 12, 2020 · <i
            class="las la-stopwatch"></i>&nbsp;5min read</small></p>
        <p class="mb-2">
    
    <a href="/tags/design/" class="badge badge-primary"><i class="las la-hashtag"></i>Design</a>
    
    <a href="/tags/likes/" class="badge badge-primary"><i class="las la-hashtag"></i>Likes</a>
    
    <a href="/tags/tutorials/" class="badge badge-primary"><i class="las la-hashtag"></i>Tutorials</a>
    
</p>
                
    </div>
</section>
<section class="yx-content container py-5">
    <div class="row">
        <div class="col-xl-8 col-lg-10 mx-auto">
            <p class="lead">Developing templates for the static website generator Hugo? Then these advanced tips &amp; tricks might be helpful to you.</p>
                    
            <hr>
            <p>I&rsquo;ve been working with <a href="https://gohugo.io/">Hugo</a> for quite a while now. For roughly two years, according to <a href="https://github.com/Ypertex/blog/commit/92b08548ac23cc0fc35f829976b66cfd77316681">this Git commit</a>. During this time I&rsquo;ve learned a few things worth sharing.</p>
<figure>
    
    <picture>
        <source media="(min-width: 1200px)"
            srcset="https://res.cloudinary.com/ypertex/image/upload/c_scale,dpr_auto,f_auto,q_auto,w_1140/7d143c90-862c-4e74-9275-763746bf95f0">
        <source media="(min-width: 992px)"
            srcset="https://res.cloudinary.com/ypertex/image/upload/c_scale,dpr_auto,f_auto,q_auto,w_960/7d143c90-862c-4e74-9275-763746bf95f0">
        <source media="(min-width: 768px)"
            srcset="https://res.cloudinary.com/ypertex/image/upload/c_scale,dpr_auto,f_auto,q_auto,w_720/7d143c90-862c-4e74-9275-763746bf95f0">
        <source media="(min-width: 576px)"
            srcset="https://res.cloudinary.com/ypertex/image/upload/c_scale,dpr_auto,f_auto,q_auto,w_767/7d143c90-862c-4e74-9275-763746bf95f0">
        <img src="https://res.cloudinary.com/ypertex/image/upload/c_scale,dpr_auto,f_auto,q_auto,w_575/7d143c90-862c-4e74-9275-763746bf95f0"
            alt="">
    </picture>
    
    <figcaption>
        Hugo&rsquo;s logo
    </figcaption>
</figure>
<h2 id="rich-link-previews">Rich Link Previews&nbsp<a href="#rich-link-previews"
        class="heading">¶</a></h2><p><a href="https://ogp.me/">Open Graph</a> and <a href="https://developer.twitter.com/en/docs/tweets/optimize-with-cards/overview/abouts-cards/">Twitter Cards</a> <q>enable any web page to become a rich object in a social graph</q>. This allows previews including title, description, logo, images, author, publisher, etc.</p>
<p>For example, the following preview of the page on <code>twitter.com</code> linked in the previous paragraph is based on data retrieved from that link:</p>

<div class="shadow card">
    <div class="card-body">
        <div class="media">
            
            <img src="https://logo.clearbit.com/twitter.com" alt="" class="yx-favicon">
            
            <div class="media-body">
                <h6><a href="https://developer.twitter.com/en/docs/tweets/optimize-with-cards/overview/abouts-cards" class="stretched-link">About Twitter Cards</a>&nbsp;<i
                    class="las la-external-link-alt"></i></h6>
                <p>With Twitter Cards, you can attach rich photos, videos and media experiences to Tweets, helping to drive traffic to your website. Simply add a few lines of markup to your webpage, and users who Tweet links to your content will have a “Card” added to the Tweet that’s visible to their followers.</p>
            </div>
        </div>
    </div>
    <div class="card-footer">
        <div class="yx-attribution">
            <cite>twitter.com</cite>
        </div>
    </div>
</div>

<h3 id="shortcode">Shortcode&nbsp<a href="#shortcode"
        class="heading">¶</a></h3><p>Here&rsquo;s how my shortcode works in principle: I use the free <abbr title="Application Programming Interface">API</abbr> from <a href="https://microlink.io/">Microlink</a> to retrieve a <code>json</code> file with all metadata for a given <abbr title="Uniform Resource Locator">URL</abbr>. With <a href="https://gohugo.io/templates/data-templates/#data-driven-content">Hugo&rsquo;s data capabilities</a>, I process the file and render the data fields of choice.</p>
<p>There are two ways to retrieve the data: letting Hugo automatically fetch the data directly from Microlink&rsquo;s API every time it runs&mdash;or manually saving Microlink&rsquo;s <code>json</code> file once to Hugo&rsquo;s <code>data</code> folder and having it Hugo access it locally.</p>
<p>I&rsquo;ve opted for saving Microlink&rsquo;s files locally for three reasons:</p>
<ol>
<li>The quality of Microlink&rsquo;s API fluctuates depending on the target URL. Saving the data locally gives me a chance to review and adjust it manually if necessary. It still saves me a ton of time.</li>
<li>The preview will remain intact even after the target URL is no longer available.</li>
<li>If you have a large website, builds will take longer when requesting Microlink&rsquo;s API for every preview. (Which isn&rsquo;t going to be a big deal for this blog any time soon.)</li>
</ol>
<p>The downside, of course, is that the data might become outdated over time, essentially displaying an incorrect preview.</p>
<p>Either way, using the shortcode in your content is really &hellip; short:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{&lt;<span style="color:#f92672">preview-external</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>&gt;}}</span></span></code></pre></div>
<p>As <code>src</code> parameter, you either provide a target URL or the path to the file inside Hugo&rsquo;s <code>data</code> directory.  Since I save the <code>json</code> files locally, the corresponding shortcode source looks like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go-html-template" data-lang="go-html-template"><span style="display:flex;"><span><span style="color:#75715e">{{</span> <span style="color:#66d9ef">with</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">index</span> <span style="color:#a6e22e">.Site.Data</span> <span style="color:#f92672">(</span><span style="color:#a6e22e">.Get</span> <span style="color:#e6db74">&#34;src&#34;</span><span style="color:#f92672">))</span> <span style="color:#75715e">}}</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;shadow card&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;card-body&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;media&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">{{</span> <span style="color:#66d9ef">with</span> <span style="color:#a6e22e">.data.logo</span> <span style="color:#75715e">}}</span>
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">img</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#75715e">{{</span> <span style="color:#a6e22e">.url</span> <span style="color:#75715e">}}</span><span style="color:#e6db74">&#34;</span> <span style="color:#a6e22e">alt</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;yx-favicon&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">{{</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">}}</span>
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;media-body&#34;</span>&gt;
</span></span><span style="display:flex;"><span>                &lt;<span style="color:#f92672">h6</span>&gt;&lt;<span style="color:#f92672">i</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;las la-external-link-alt&#34;</span>&gt;&lt;/<span style="color:#f92672">i</span>&gt; &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#75715e">{{</span> <span style="color:#a6e22e">.data.url</span> <span style="color:#75715e">}}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;stretched-link&#34;</span>&gt;<span style="color:#75715e">{{</span> <span style="color:#a6e22e">.data.title</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">title</span> <span style="color:#75715e">}}</span>&lt;/<span style="color:#f92672">a</span>&gt;&lt;/<span style="color:#f92672">h6</span>&gt;
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">{{</span> <span style="color:#66d9ef">with</span> <span style="color:#a6e22e">.data.description</span> <span style="color:#75715e">}}</span>&lt;<span style="color:#f92672">p</span>&gt;<span style="color:#75715e">{{</span> <span style="color:#a6e22e">.</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">htmlUnescape</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">markdownify</span> <span style="color:#75715e">}}</span>&lt;/<span style="color:#f92672">p</span>&gt;<span style="color:#75715e">{{</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">}}</span>
</span></span><span style="display:flex;"><span>            &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;card-footer&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;yx-attribution&#34;</span>&gt;
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">{{</span> <span style="color:#66d9ef">with</span> <span style="color:#a6e22e">.data.author</span> <span style="color:#75715e">}}{{</span> <span style="color:#a6e22e">.</span> <span style="color:#75715e">}}{{</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">}}{{</span> <span style="color:#66d9ef">if</span> <span style="color:#66d9ef">and</span> <span style="color:#a6e22e">.data.author</span> <span style="color:#a6e22e">.data.publisher</span><span style="color:#75715e">}}</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">{{</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">}}{{</span> <span style="color:#66d9ef">with</span> <span style="color:#a6e22e">.data.publisher</span> <span style="color:#75715e">}}</span>&lt;<span style="color:#f92672">cite</span>&gt;<span style="color:#75715e">{{</span> <span style="color:#a6e22e">.</span> <span style="color:#75715e">}}</span>&lt;/<span style="color:#f92672">cite</span>&gt;<span style="color:#75715e">{{</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">}}</span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#75715e">{{</span> <span style="color:#66d9ef">end</span> <span style="color:#75715e">}}</span></span></span></code></pre></div>
<p>If you want instead to fetch Microlink&rsquo;s <code>json</code> response everytime Hugo builds your website, you would change the first line accordingly:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go-html-template" data-lang="go-html-template"><span style="display:flex;"><span><span style="color:#75715e">{{</span> <span style="color:#66d9ef">with</span> <span style="color:#a6e22e">getJSON</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">printf</span> <span style="color:#e6db74">&#34;https://api.microlink.io/?url=%s&#34;</span> <span style="color:#f92672">(</span><span style="color:#a6e22e">.Get</span> <span style="color:#e6db74">&#34;src&#34;</span><span style="color:#f92672">))</span> <span style="color:#75715e">}}</span></span></span></code></pre></div>
<figure>
    
    <picture>
        <source media="(min-width: 1200px)"
            srcset="https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_1140/4731a50a-4e35-49e4-9a4e-66865edb67aa">
        <source media="(min-width: 992px)"
            srcset="https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_960/4731a50a-4e35-49e4-9a4e-66865edb67aa">
        <source media="(min-width: 768px)"
            srcset="https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_720/4731a50a-4e35-49e4-9a4e-66865edb67aa">
        <source media="(min-width: 576px)"
            srcset="https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_767/4731a50a-4e35-49e4-9a4e-66865edb67aa">
        <img src="https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_575/4731a50a-4e35-49e4-9a4e-66865edb67aa"
            alt="">
    </picture>
    
    <figcaption>
        Screenshot of the microlink.io website, April 2020&mdash;taken with Microlink&rsquo;s screenshot service itself
    </figcaption>
</figure>
<p>Read on to see how you can easily provide such metadata yourself &mdash;and make this even work with responsive images!</p>
<h2 id="responsive-images-in-hugos-metadata-shortcodes">Responsive Images in Hugo&rsquo;s Metadata Shortcodes&nbsp<a href="#responsive-images-in-hugos-metadata-shortcodes"
        class="heading">¶</a></h2><p>There&rsquo;s a quick and easy way with Hugo to enable <em>your</em> website to be previewed in other apps and websites, too.</p>
<p>Hugo comes with <a href="https://gohugo.io/templates/internal#open-graph">built-in shortcodes</a> for the Open Graph and Twitter Cards protocols. Using the shortcodes is as simple as adding the following lines to your <abbr title="Hypertext Markup Language">HTML</abbr> <code>head</code> element:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go-html-template" data-lang="go-html-template"><span style="display:flex;"><span><span style="color:#75715e">{{</span> <span style="color:#66d9ef">template</span> <span style="color:#e6db74">&#34;_internal/opengraph.html&#34;</span> <span style="color:#a6e22e">.</span> <span style="color:#75715e">}}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">{{</span> <span style="color:#66d9ef">template</span> <span style="color:#e6db74">&#34;_internal/twitter_cards.html&#34;</span> <span style="color:#a6e22e">.</span> <span style="color:#75715e">}}</span></span></span></code></pre></div>
<p>These shortcodes take the metadata from your site&rsquo;s configuration as well as your pages&rsquo; front matter and turn it into the corresponding HTML <code>meta</code> tags. A social media platform like Twitter or a service like Microlink is now capable to retrieve metadata from your webpages.</p>
<p>Hugo&rsquo;s shortcodes will also consider images and generate the corresponding <code>meta</code> tags. According to <a href="https://iamturns.com/open-graph-image-size/">this research</a>, a good practice is to size Open Graph images to <strong>1200×630 pixels</strong>.</p>
<p>Hm, yet another size for the cover images of my articles I need to generate and keep track of.</p>
<p>Since I use <a href="https://cloudinary.com/">Cloudinary</a> as a service to resize images on the fly and thus to <a href="/articles/redesign-march-2020/#images-can-be-responsive">make my images responsive</a>, the solution is pretty simple.</p>
<p>In the content files&rsquo; front matter, I define one image in the <code>.Params.images</code> array. For this article you&rsquo;re just reading, it would look like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#f92672">images</span>:
</span></span><span style="display:flex;"><span>- <span style="color:#ae81ff">https://res.cloudinary.com/ypertex/image/upload/c_fill,dpr_auto,f_auto,g_auto,h_630,q_auto,w_1200/7d143c90-862c-4e74-9275-763746bf95f0</span></span></span></code></pre></div>
<p>Hugo takes this URL and uses it in the two metadata shortcodes <code>opengraph.html</code> and <code>twitter_cards.html</code>. I use this URL to show the same cover image in the list of articles&mdash;but properly transformed for the size of my users&rsquo; devices. To that end, I first have to <strong>deconstruct the URL</strong> into its parts with the help of <a href="https://gohugo.io/functions/path.split/">Hugo&rsquo;s <code>path.Split</code> function</a>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go-html-template" data-lang="go-html-template"><span style="display:flex;"><span><span style="color:#75715e">{{</span> <span style="color:#a6e22e">$cover</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">(</span><span style="color:#a6e22e">path</span><span style="color:#a6e22e">.Split</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">index</span> <span style="color:#f92672">(</span><span style="color:#a6e22e">first</span> <span style="color:#a6e22e">1</span> <span style="color:#a6e22e">.Params.images</span><span style="color:#f92672">)</span> <span style="color:#a6e22e">0</span><span style="color:#f92672">))</span><span style="color:#a6e22e">.File</span> <span style="color:#75715e">}}</span></span></span></code></pre></div>
<p>Now, I can <strong>reconstruct different URLs</strong> for different transformations of the same image, for example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go-html-template" data-lang="go-html-template"><span style="display:flex;"><span>&lt;<span style="color:#f92672">picture</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">source</span> <span style="color:#a6e22e">media</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;(min-width: 1200px)&#34;</span> <span style="color:#a6e22e">srcset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#75715e">{{</span> <span style="color:#a6e22e">.cloudinary.baseURL</span> <span style="color:#75715e">}}{{</span> <span style="color:#a6e22e">.cloudinary.transformations.index.xl</span> <span style="color:#75715e">}}{{</span> <span style="color:#a6e22e">$cover</span> <span style="color:#75715e">}}</span><span style="color:#e6db74">&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">source</span> <span style="color:#a6e22e">media</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;(min-width: 992px)&#34;</span> <span style="color:#a6e22e">srcset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#75715e">{{</span> <span style="color:#a6e22e">.cloudinary.baseURL</span> <span style="color:#75715e">}}{{</span> <span style="color:#a6e22e">.cloudinary.transformations.index.lg</span> <span style="color:#75715e">}}{{</span> <span style="color:#a6e22e">$cover</span> <span style="color:#75715e">}}</span><span style="color:#e6db74">&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">source</span> <span style="color:#a6e22e">media</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;(min-width: 768px)&#34;</span> <span style="color:#a6e22e">srcset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#75715e">{{</span> <span style="color:#a6e22e">.cloudinary.baseURL</span> <span style="color:#75715e">}}{{</span> <span style="color:#a6e22e">.cloudinary.transformations.index.md</span> <span style="color:#75715e">}}{{</span> <span style="color:#a6e22e">$cover</span> <span style="color:#75715e">}}</span><span style="color:#e6db74">&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">source</span> <span style="color:#a6e22e">media</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;(min-width: 576px)&#34;</span> <span style="color:#a6e22e">srcset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#75715e">{{</span> <span style="color:#a6e22e">.cloudinary.baseURL</span> <span style="color:#75715e">}}{{</span> <span style="color:#a6e22e">.cloudinary.transformations.index.sm</span> <span style="color:#75715e">}}{{</span> <span style="color:#a6e22e">$cover</span> <span style="color:#75715e">}}</span><span style="color:#e6db74">&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">img</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#75715e">{{</span> <span style="color:#a6e22e">.cloudinary.baseURL</span> <span style="color:#75715e">}}{{</span> <span style="color:#a6e22e">.cloudinary.transformations.index.xs</span> <span style="color:#75715e">}}{{</span> <span style="color:#a6e22e">$cover</span> <span style="color:#75715e">}}</span><span style="color:#e6db74">&#34;</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">picture</span>&gt;</span></span></code></pre></div>
<p>This way, I only need to track <strong>one single URL per article for its cover image</strong>&mdash;and yet can generate responsive images from it.</p>
<h2 id="conclusion">Conclusion&nbsp<a href="#conclusion"
        class="heading">¶</a></h2><p>In this article I shared a few ways how I use Hugo, Microlink, and Cloudinary to my advantage:</p>
<ul>
<li>How to generate rich previews of linked content</li>
<li>How to use Hugo&rsquo;s metadata shortcodes with responsive images</li>
</ul>
<p>I hope these ideas can make your life as a content producer and publisher easier, too!</p>
<hr>
<div class="alert alert-primary">
    <h5 id="i-classlas-la-balance-scale-lefti-disclaimer"><i class="las la-balance-scale-left"></i> Disclaimer&nbsp<a href="#i-classlas-la-balance-scale-lefti-disclaimer"
        class="heading">¶</a></h5><p>I am in no way affiliated with the services mentioned in this article. I recommend them as a blogger who employs their free services for personal use.</p>
</div>

            
        </div>
    </div>
</section>

<section class="bg-light py-5">
    <div class="container">
        <div class="row">
            <div class="col-xl-8 col-lg-10 mx-auto">
                <div class="yx-heading">About the Author</div>
<div class="media">
    <img
        src="https://res.cloudinary.com/ypertex/image/upload/ar_1,c_thumb,dpr_auto,f_auto,g_face,q_auto,w_128/people/michael-schmidle-2021-10"
        class="yx-avatar">
    <div class="media-body">
        <h4>Michael Schmidle</h4>
        <p>Founder of <a href="https://www.priomind.com/">PrioMind</a>. Start-up consultant, hobby music producer and blogger. Opinionated about strategy, leadership, and media. In love with Mexico. This blog reflects my personal views.</p>

        <p class="mb-0">
            <a href="https://www.linkedin.com/in/MichaelSchmidle"
                class="btn btn-light rounded-pill text-muted"><i class="lab la-linkedin-in"></i>&nbsp;LinkedIn</a>
            
            <a href="https://github.com/MichaelSchmidle/"
                class="btn btn-light rounded-pill text-muted"><i class="lab la-github"></i>&nbsp;GitHub</a>
            
            <a href="https://soundcloud.com/michaelschmidle/"
                class="btn btn-light rounded-pill text-muted"><i class="lab la-soundcloud"></i>&nbsp;SoundCloud</a>
            </p>
    </div>
</div>
            </div>
        </div>
    </div>
</section>



<section class="container py-5">
    <div class="yx-heading">
        Recommended Articles
    </div>
    
    
    <div class="row align-items-center">
    <div class="col-md-4 mb-3 mb-md-0 order-md-last">
        
        <a href="/articles/redesign-march-2020/">
            <picture>
                <source media="(min-width: 1200px)"
                    srcset="https://res.cloudinary.com/ypertex/image/upload/ar_1,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_350/050bab80-48bd-404a-b6b1-d1f39e934849">
                <source media="(min-width: 992px)"
                    srcset="https://res.cloudinary.com/ypertex/image/upload/ar_1,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_290/050bab80-48bd-404a-b6b1-d1f39e934849">
                <source media="(min-width: 768px)"
                    srcset="https://res.cloudinary.com/ypertex/image/upload/ar_0.75,c_fill,dpr_auto,f_auto,q_auto,w_210/050bab80-48bd-404a-b6b1-d1f39e934849">
                <source media="(min-width: 576px)"
                    srcset="https://res.cloudinary.com/ypertex/image/upload/ar_2,c_fill,dpr_auto,f_auto,q_auto,w_510/050bab80-48bd-404a-b6b1-d1f39e934849">
                <img src="https://res.cloudinary.com/ypertex/image/upload/ar_2,c_fill,dpr_auto,f_auto,q_auto,w_545/050bab80-48bd-404a-b6b1-d1f39e934849" alt=""
                    class="shadow w-100">
            </picture>
        </a>
        
    </div>
    <div class="col-md-8 text-md-right">
        <p class="text-muted mb-2"><small><i
            class="las la-upload"></i>&nbsp;Mar 23, 2020
        · <i class="las la-sync"></i>&nbsp;Jun 4, 2022 · <i
            class="las la-stopwatch"></i>&nbsp;5min read</small></p>
<div class="yx-stretched-linkable mb-3">
    <h2>Redesign March 2020</h2>
    <p>On this day three years ago, I launched my blog. Today, I publish its first redesign: bigger, bolder, bluer, and (hopefully) better than its predecessor. <a href="/articles/redesign-march-2020/" class="stretched-link">Continue…</a></p>
</div>
<p class="mb-2">
    
    <a href="/tags/design/" class="badge badge-primary"><i class="las la-hashtag"></i>Design</a>
    
    <a href="/tags/personal/" class="badge badge-primary"><i class="las la-hashtag"></i>Personal</a>
    
    <a href="/tags/likes/" class="badge badge-primary"><i class="las la-hashtag"></i>Likes</a>
    
</p>

    </div>
</div>

    
    
    <hr>
    
    <div class="row align-items-center">
    <div class="col-md-4 mb-3 mb-md-0">
        
        <a href="/articles/integrating-termly-with-nuxt-3/">
            <picture>
                <source media="(min-width: 1200px)"
                    srcset="https://res.cloudinary.com/ypertex/image/upload/ar_1,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_350/3ac9086c-7984-4089-811e-e9d3f7b96a47">
                <source media="(min-width: 992px)"
                    srcset="https://res.cloudinary.com/ypertex/image/upload/ar_1,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_290/3ac9086c-7984-4089-811e-e9d3f7b96a47">
                <source media="(min-width: 768px)"
                    srcset="https://res.cloudinary.com/ypertex/image/upload/ar_0.75,c_fill,dpr_auto,f_auto,q_auto,w_210/3ac9086c-7984-4089-811e-e9d3f7b96a47">
                <source media="(min-width: 576px)"
                    srcset="https://res.cloudinary.com/ypertex/image/upload/ar_2,c_fill,dpr_auto,f_auto,q_auto,w_510/3ac9086c-7984-4089-811e-e9d3f7b96a47">
                <img src="https://res.cloudinary.com/ypertex/image/upload/ar_2,c_fill,dpr_auto,f_auto,q_auto,w_545/3ac9086c-7984-4089-811e-e9d3f7b96a47" alt=""
                    class="shadow w-100">
            </picture>
        </a>
        
    </div>
    <div class="col-md-8">
        <p class="text-muted mb-2"><small><i
            class="las la-upload"></i>&nbsp;Jul 11, 2024 · <i
            class="las la-stopwatch"></i>&nbsp;3min read</small></p>
<div class="yx-stretched-linkable mb-3">
    <h2>Integrating Termly With Nuxt 3</h2>
    <p>Integrating Termly&rsquo;s consent management with Nuxt 3 turns out to be harder than just inserting a script tag. Here&rsquo;s a solution that resolves hydration mismatches and UI glitches, ensuring smooth functionality and user experience. <a href="/articles/integrating-termly-with-nuxt-3/" class="stretched-link">Continue…</a></p>
</div>
<p class="mb-2">
    
    <a href="/tags/technology/" class="badge badge-primary"><i class="las la-hashtag"></i>Technology</a>
    
    <a href="/tags/tutorials/" class="badge badge-primary"><i class="las la-hashtag"></i>Tutorials</a>
    
</p>

    </div>
</div>

    
    
    <hr>
    
    <div class="row align-items-center">
    <div class="col-md-4 mb-3 mb-md-0 order-md-last">
        
        <a href="/articles/mastering-keyboard-interactions-in-shadcn-vue/">
            <picture>
                <source media="(min-width: 1200px)"
                    srcset="https://res.cloudinary.com/ypertex/image/upload/ar_1,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_350/a19c5621-a213-43e4-8928-33791fa141c7">
                <source media="(min-width: 992px)"
                    srcset="https://res.cloudinary.com/ypertex/image/upload/ar_1,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_290/a19c5621-a213-43e4-8928-33791fa141c7">
                <source media="(min-width: 768px)"
                    srcset="https://res.cloudinary.com/ypertex/image/upload/ar_0.75,c_fill,dpr_auto,f_auto,q_auto,w_210/a19c5621-a213-43e4-8928-33791fa141c7">
                <source media="(min-width: 576px)"
                    srcset="https://res.cloudinary.com/ypertex/image/upload/ar_2,c_fill,dpr_auto,f_auto,q_auto,w_510/a19c5621-a213-43e4-8928-33791fa141c7">
                <img src="https://res.cloudinary.com/ypertex/image/upload/ar_2,c_fill,dpr_auto,f_auto,q_auto,w_545/a19c5621-a213-43e4-8928-33791fa141c7" alt=""
                    class="shadow w-100">
            </picture>
        </a>
        
    </div>
    <div class="col-md-8 text-md-right">
        <p class="text-muted mb-2"><small><i
            class="las la-upload"></i>&nbsp;Nov 15, 2023 · <i
            class="las la-stopwatch"></i>&nbsp;2min read</small></p>
<div class="yx-stretched-linkable mb-3">
    <h2>Mastering Keyboard Interactions in Shadcn-Vue: A Fix for Complex UIs</h2>
    <p>In the intricate dance of UI components within Vue applications, a misstep can disrupt the rhythm. Discover how a straightforward tweak can harmonize your keyboard interactions in shadcn-vue in complex nested components. <a href="/articles/mastering-keyboard-interactions-in-shadcn-vue/" class="stretched-link">Continue…</a></p>
</div>
<p class="mb-2">
    
    <a href="/tags/technology/" class="badge badge-primary"><i class="las la-hashtag"></i>Technology</a>
    
    <a href="/tags/tutorials/" class="badge badge-primary"><i class="las la-hashtag"></i>Tutorials</a>
    
</p>

    </div>
</div>

    
    
    <hr>
    
    <div class="row align-items-center">
    <div class="col-md-4 mb-3 mb-md-0">
        
        <a href="/articles/nuxt-directus-authentication-middleware/">
            <picture>
                <source media="(min-width: 1200px)"
                    srcset="https://res.cloudinary.com/ypertex/image/upload/ar_1,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_350/7c9e5b70-cd7b-48cb-9bf4-f5e7b2850192">
                <source media="(min-width: 992px)"
                    srcset="https://res.cloudinary.com/ypertex/image/upload/ar_1,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_290/7c9e5b70-cd7b-48cb-9bf4-f5e7b2850192">
                <source media="(min-width: 768px)"
                    srcset="https://res.cloudinary.com/ypertex/image/upload/ar_0.75,c_fill,dpr_auto,f_auto,q_auto,w_210/7c9e5b70-cd7b-48cb-9bf4-f5e7b2850192">
                <source media="(min-width: 576px)"
                    srcset="https://res.cloudinary.com/ypertex/image/upload/ar_2,c_fill,dpr_auto,f_auto,q_auto,w_510/7c9e5b70-cd7b-48cb-9bf4-f5e7b2850192">
                <img src="https://res.cloudinary.com/ypertex/image/upload/ar_2,c_fill,dpr_auto,f_auto,q_auto,w_545/7c9e5b70-cd7b-48cb-9bf4-f5e7b2850192" alt=""
                    class="shadow w-100">
            </picture>
        </a>
        
    </div>
    <div class="col-md-8">
        <p class="text-muted mb-2"><small><i
            class="las la-upload"></i>&nbsp;Sep 26, 2023
        · <i class="las la-sync"></i>&nbsp;Nov 11, 2023 · <i
            class="las la-stopwatch"></i>&nbsp;2min read</small></p>
<div class="yx-stretched-linkable mb-3">
    <h2>The Better Nuxt Directus Authentication Middleware</h2>
    <p>The Nuxt Directus docs give you a basic auth middleware, but it&rsquo;s got some quirks. Here&rsquo;s how to bulletproof it. <a href="/articles/nuxt-directus-authentication-middleware/" class="stretched-link">Continue…</a></p>
</div>
<p class="mb-2">
    
    <a href="/tags/technology/" class="badge badge-primary"><i class="las la-hashtag"></i>Technology</a>
    
    <a href="/tags/tutorials/" class="badge badge-primary"><i class="las la-hashtag"></i>Tutorials</a>
    
</p>

    </div>
</div>

    
</section>



    </main>
    <footer class="bg-secondary text-light text-center">
  <div class="container py-5">
    
    <p><small><a href="/privacy/">Privacy Policy</a></small></p>
    <p><a href="/"><svg width="100%" height="100%" viewBox="0 0 440 176" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-2574,-792)">
        <g id="Unprotected-primary-color-logogram-on-transparent-background" serif:id="Unprotected primary color logogram on transparent background" transform="matrix(1.12719,0,0,0.885774,2612.5,797.543)">
            <rect x="-34.159" y="-6.258" width="390.352" height="198.696" style="fill:none;"/>
            <clipPath id="_clip1">
                <rect x="-34.159" y="-6.258" width="390.352" height="198.696"/>
            </clipPath>
            <g clip-path="url(#_clip1)">
                <g transform="matrix(3.69565,0,0,4.16217,-240.2,-272.956)">
                    <g transform="matrix(0.105625,-6.62507e-18,5.86335e-18,0.119347,45.1899,52.1434)">
                        <path d="M100,500L300,300L100,100L167.274,100C252.258,100 333.761,133.757 393.857,193.846C397.723,197.712 400,199.988 400,199.988L500,99.976L699.976,100L800,200.024L900,100L1100,100L900,300L1100,500L1032.74,500C947.747,500 866.238,466.238 806.141,406.141C802.276,402.276 800,400 800,400L700,500L500,500L700,300L600,200.024L300,500L100,500Z" style="fill:rgb(0,170,255);"/>
                    </g>
                    <g transform="matrix(0.105625,0,0,0.119347,45.1899,40.2116)">
                        <path d="M500,599.976L900,199.976L700,199.953L300,599.976L500,599.976Z" style="fill:rgb(14,17,18);fill-opacity:0.2;"/>
                    </g>
                </g>
            </g>
        </g>
    </g>
</svg>
</a></p>
    <p><small>Copyright © 2017-2024 Michael Schmidle<br>
        Original content released under the <a href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0 International</a> license</small>
    </p>
  </div>
</footer>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
    integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
    integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
    crossorigin="anonymous"></script>
</body>

</html>