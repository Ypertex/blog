<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=/ypertex.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat+Alternates:700,700i|Montserrat:400,400i,700,700i&display=swap"><link rel=stylesheet href=https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css><title>Enabling JumpCloud on Unsupported Linux Systems · Ypertex Blog</title><link rel=apple-touch-icon sizes=57x57 href=/apple-touch-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/apple-touch-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/apple-touch-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/apple-touch-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/apple-touch-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/apple-touch-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/apple-touch-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/apple-touch-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon-180x180.png><link rel=icon type=image/png href=/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=/android-chrome-192x192.png sizes=192x192><meta name=msapplication-square70x70logo content="/smalltile.png"><meta name=msapplication-square150x150logo content="/mediumtile.png"><meta name=msapplication-wide310x150logo content="/widetile.png"><meta name=msapplication-square310x310logo content="/largetile.png"></head><body><header><nav class="navbar navbar-dark navbar-expand-md bg-dark"><div class=container><a class=navbar-brand href=/><svg viewBox="0 0 440 176" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;max-height:1rem"><g transform="matrix(1,0,0,1,-2574,-792)"><g id="Unprotected-primary-color-logogram-on-transparent-background" serif:id="Unprotected primary color logogram on transparent background" transform="matrix(1.12719,0,0,0.885774,2612.5,797.543)"><rect x="-34.159" y="-6.258" width="390.352" height="198.696" style="fill:none"/><clipPath id="_clip1"><rect x="-34.159" y="-6.258" width="390.352" height="198.696"/></clipPath><g clip-path="url(#_clip1)"><g transform="matrix(3.69565,0,0,4.16217,-240.2,-272.956)"><g transform="matrix(0.105625,-6.62507e-18,5.86335e-18,0.119347,45.1899,52.1434)"><path d="M1e2 5e2 3e2 3e2 1e2 1e2h67.274C252.258 1e2 333.761 133.757 393.857 193.846 397.723 197.712 4e2 199.988 4e2 199.988L5e2 99.976 699.976 1e2 8e2 200.024 9e2 1e2h2e2L9e2 3e2l2e2 2e2H1032.74C947.747 5e2 866.238 466.238 806.141 406.141 802.276 402.276 8e2 4e2 8e2 4e2L7e2 5e2H5e2L7e2 3e2 6e2 200.024 3e2 5e2H1e2z" style="fill:#0af"/></g><g transform="matrix(0.105625,0,0,0.119347,45.1899,40.2116)"><path d="M5e2 599.976l4e2-4e2L7e2 199.953 3e2 599.976H5e2z" style="fill:#0e1112;fill-opacity:.2"/></g></g></g></g></g></svg></a><div class="navbar-collapse collapse"><div class="navbar-nav mr-auto"><a href=/articles/ class="nav-item nav-link active">Articles</a>
<a href=/series/ class="nav-item nav-link">Series</a>
<a href=/tags/ class="nav-item nav-link">Tags</a></div><div class=navbar-nav><a href=https://www.linkedin.com/in/michaelschmidle class="nav-item nav-link" title=LinkedIn><i class="lab la-linkedin-in"></i></a><a href=https://twitter.com/MichaelSchmidle/ class="nav-item nav-link" title=Twitter><i class="lab la-twitter"></i></a><a href=https://github.com/MichaelSchmidle/ class="nav-item nav-link" title=GitHub><i class="lab la-github"></i></a></div></div></div></nav></header><main><section class="jumbotron jumbotron-fluid"><div class=container><h1 class=display-4>Enabling JumpCloud on Unsupported Linux Systems</h1><p class="text-muted mb-2"><small><i class="las la-upload"></i>&nbsp;Nov 9, 2018 · <i class="las la-stopwatch"></i>&nbsp;3min read</small></p><p class=mb-0><a href=/tags/tutorials/ class="badge badge-primary"><i class="las la-hashtag"></i>Tutorials</a></p></div></section><section class="yx-content container py-5"><div class=row><div class="col-xl-8 col-lg-10 mx-auto"><p class=lead>JumpCloud officially supports Debian, yet refuses to run on Debian-based systems like Proxmox Virtual Environment and Openmediavault. Let&rsquo;s fix that.</p><hr><p>If you followed the articles on this blog you know that I have a lot of love<a href=/articles/jumpcloud-curl-error-22/>1</a>, <a href=/articles/tools-for-the-smart-start-up-in-2018-1/>2</a> for <a href=https://jumpcloud.com/>JumpCloud</a>.</p><figure><picture>
<source media="(min-width: 1200px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_1140/7ff88dd5-c612-415a-aaea-640800485086><source media="(min-width: 992px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_960/7ff88dd5-c612-415a-aaea-640800485086><source media="(min-width: 768px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_720/7ff88dd5-c612-415a-aaea-640800485086><source media="(min-width: 576px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_767/7ff88dd5-c612-415a-aaea-640800485086><img src=https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_575/7ff88dd5-c612-415a-aaea-640800485086 alt class="shadow img-fluid"></picture><figcaption class="mt-3 col-md-8 mx-auto"></figcaption></figure><p>However, there is a JumpCloud limitation that bugs me a little: It refuses to run on some Linux-based systems like <a href=https://www.proxmox.com/en/proxmox-ve>Proxmox Virtual Environment</a> or <a href=https://www.openmediavault.org/>Openmediavault</a> even though it officially supports the underlying Linux version.</p><p>Fortunately, there&rsquo;s a <strong>way around that limitation</strong> that I&rsquo;d like to share with you in this article.</p><h2 id=the-issue-with-etcissue>The Issue with <code>/etc/issue</code>&nbsp;<a class=yx-anchor href=#the-issue-with-etcissue><i class="las la-link"></i></a></h2><p>It seems that the JumpCloud Linux agent checks the small text file <code>/etc/issue</code> to determine whether it is compatible with the system on which it was started. The content of this file is printed on the (virtual) screen after the system booted. It is displayed just above the login prompt and originally contains information about the operating system:</p><figure><picture>
<source media="(min-width: 1200px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_1140/5b729119-c298-4e30-a5c1-04b923002148><source media="(min-width: 992px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_960/5b729119-c298-4e30-a5c1-04b923002148><source media="(min-width: 768px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_720/5b729119-c298-4e30-a5c1-04b923002148><source media="(min-width: 576px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_767/5b729119-c298-4e30-a5c1-04b923002148><img src=https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_575/5b729119-c298-4e30-a5c1-04b923002148 alt class="shadow img-fluid"></picture><figcaption class="mt-3 col-md-8 mx-auto">The current version of Debian identifies itself as <code>Debian GNU/Linux 9</code></figcaption></figure><p>Software developers at Proxmox and Openmediavault have used this file to display additional information at the login prompt about how to use their applications:</p><figure><picture>
<source media="(min-width: 1200px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_1140/d16cbce2-545a-45f3-8623-011575a2d920><source media="(min-width: 992px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_960/d16cbce2-545a-45f3-8623-011575a2d920><source media="(min-width: 768px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_720/d16cbce2-545a-45f3-8623-011575a2d920><source media="(min-width: 576px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_767/d16cbce2-545a-45f3-8623-011575a2d920><img src=https://res.cloudinary.com/ypertex/image/upload/ar_1.67,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_575/d16cbce2-545a-45f3-8623-011575a2d920 alt class="shadow img-fluid"></picture><figcaption class="mt-3 col-md-8 mx-auto">Proxmox Virtual Environment shows instructions on how to connect to its web interface</figcaption></figure><p>Of course, now the content of <code>/etc/issue</code> doesn&rsquo;t match with the records in JumpCloud&rsquo;s database anymore. Since this additional information can change (i.e. when you configure a different IP address on the system), the <code>/etc/issue</code> is <strong>regenerated every time the system boots</strong> to reflect the proper current settings. So simply replacing the content of the file with the original won&rsquo;t cut it. Now what?</p><h2 id=stop-and-disable-the-respective-issue-service>Stop and Disable the Respective Issue Service&nbsp;<a class=yx-anchor href=#stop-and-disable-the-respective-issue-service><i class="las la-link"></i></a></h2><p>After <a href=https://duckduckgo.com/>DuckDuckGo</a>ing a bit, I was able to identify the services that regenerate <code>/etc/issue</code> after each boot:</p><ul><li>On Proxmox, it&rsquo;s <code>pvebanner</code></li><li>On Openmediavault, it&rsquo;s <code>openmediavault-issue</code> (OK, I could have guessed that one)</li></ul><p>So, to stop and disable these services &mldr; just stop and disable them:</p><pre><code># For Proxmox Virtual Environment
sudo systemctl stop pvebanner &amp;&amp; sudo systemctl disable pvebanner

# For Openmediavault
sudo systemctl stop openmediavault-issue &amp;&amp; sudo systemctl disable openmediavault-issue
</code></pre><p>Disabling is what prevents the service from being restarted after the system boots. Great, we finally can revert the file <code>/etc/issue</code> back to its original content: Open the file (i.e. <code>sudo nano /etc/issue</code>), then paste the complete string <code>Debian GNU/Linux 9 \n \l</code>, and save the file. Done! After a reboot, the file still reads the same.</p><p>Installing the JumpCloud agent on these systems now <strong>works as expected</strong>. The systems report as <code>Debian 9</code> in the JumpCloud console from where they can be managed just as any other system.</p><h2 id=conclusion>Conclusion&nbsp;<a class=yx-anchor href=#conclusion><i class="las la-link"></i></a></h2><p>I am no Linux expert but isn&rsquo;t there a better way to reliably determine the distribution and version of a Linux system—other than checking the text file <code>/etc/issue</code>? I wish, JumpCloud could figure out something.</p><p>If this issue bugs you too, let JumpCloud know by <a href=https://support.jumpcloud.com/customer/portal/questions/17167497-agent-support-for-proxmox-and-openmediavault-debian-9->voting on my feature request</a> I posted on their site over a year ago. Thanks. At least, we have a workaround with the above hack.</p></div></div></section><section class="bg-light py-5"><div class=container><div class=row><div class="col-xl-8 col-lg-10 mx-auto"><div class="yx-heading mb-3">Share this article</div><div class="shadow card mx-n3"><div class=card-body><div class="row text-center"><div class=col><a class="btn btn-primary rounded-pill" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fblog.ypertex.com%2farticles%2fjumpcloud-on-unsupported-linux%2f&title=Enabling%20JumpCloud%20on%20Unsupported%20Linux%20Systems&source=Ypertex%20Blog" title=LinkedIn onclick="window.open(this.href,'linkedin-share','width=550,height=550');return false;"><i class="lab la-linkedin-in"></i>&nbsp;LinkedIn</a></div><div class=col><a class="btn btn-primary rounded-pill" href="https://twitter.com/intent/tweet?text=Enabling%20JumpCloud%20on%20Unsupported%20Linux%20Systems&url=https%3a%2f%2fblog.ypertex.com%2farticles%2fjumpcloud-on-unsupported-linux%2f" title=Twitter onclick="window.open(this.href,'twitter-share','width=550,height=550');return false;"><i class="lab la-twitter"></i>&nbsp;Twitter</a></div><div class=col><a class="btn btn-primary rounded-pill" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.ypertex.com%2farticles%2fjumpcloud-on-unsupported-linux%2f" title=Facebook onclick="window.open(this.href,'facebook-share','width=550,height=550');return false;"><i class="lab la-facebook-f"></i>&nbsp;Facebook</a></div></div></div></div></div></div></div></section><section class="container py-5"><div class=yx-heading>Recommended Articles</div><div class="row align-items-center"><div class="col-md-4 mb-3 mb-md-0 order-md-last"><a href=/articles/advertise-subnet-with-opnsense-arp/><picture>
<source media="(min-width: 1200px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_1,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_350/a6e46127-e43f-4ea3-9aa8-819893c0f602><source media="(min-width: 992px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_1,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_290/a6e46127-e43f-4ea3-9aa8-819893c0f602><source media="(min-width: 768px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_0.75,c_fill,dpr_auto,f_auto,q_auto,w_210/a6e46127-e43f-4ea3-9aa8-819893c0f602><source media="(min-width: 576px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_2,c_fill,dpr_auto,f_auto,q_auto,w_510/a6e46127-e43f-4ea3-9aa8-819893c0f602><img src=https://res.cloudinary.com/ypertex/image/upload/ar_2,c_fill,dpr_auto,f_auto,q_auto,w_545/a6e46127-e43f-4ea3-9aa8-819893c0f602 alt class="shadow w-100"></picture></a></div><div class="col-md-8 text-md-right"><p class="text-muted mb-2"><small><i class="las la-upload"></i>&nbsp;Aug 2, 2018 · <i class="las la-stopwatch"></i>&nbsp;3min read</small></p><div class=yx-stretched-linkable><h1>How to Advertise Subnets to Upstream Routers with OPNsense and ARP</h1><p>If you ever wondered how to split a subnet away from a fixed upstream gateway, here’s how you can achieve this with ARP in OPNsense. <a href=/articles/advertise-subnet-with-opnsense-arp/ class=stretched-link>Continue…</a></p></div><p class=mb-0><a href=/tags/tutorials/ class="badge badge-primary"><i class="las la-hashtag"></i>Tutorials</a></p></div></div><hr><div class="row align-items-center"><div class="col-md-4 mb-3 mb-md-0"><a href=/articles/jumpcloud-curl-error-22/><picture>
<source media="(min-width: 1200px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_1,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_350/8a0f15ad-90b4-44b6-be9f-98261403072f><source media="(min-width: 992px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_1,c_fill,dpr_auto,f_auto,g_auto,q_auto,w_290/8a0f15ad-90b4-44b6-be9f-98261403072f><source media="(min-width: 768px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_0.75,c_fill,dpr_auto,f_auto,q_auto,w_210/8a0f15ad-90b4-44b6-be9f-98261403072f><source media="(min-width: 576px)" srcset=https://res.cloudinary.com/ypertex/image/upload/ar_2,c_fill,dpr_auto,f_auto,q_auto,w_510/8a0f15ad-90b4-44b6-be9f-98261403072f><img src=https://res.cloudinary.com/ypertex/image/upload/ar_2,c_fill,dpr_auto,f_auto,q_auto,w_545/8a0f15ad-90b4-44b6-be9f-98261403072f alt class="shadow w-100"></picture></a></div><div class=col-md-8><p class="text-muted mb-2"><small><i class="las la-upload"></i>&nbsp;Jun 21, 2017 · <i class="las la-stopwatch"></i>&nbsp;4min read</small></p><div class=yx-stretched-linkable><h1>Working Around the JumpCloud Curl Error 22</h1><p>JumpCloud is a great tool to enable Single Sign On for whatever devices you have. Find out how to work around curl error 22 to keep using it on Linux. <a href=/articles/jumpcloud-curl-error-22/ class=stretched-link>Continue…</a></p></div><p class=mb-0><a href=/tags/tutorials/ class="badge badge-primary"><i class="las la-hashtag"></i>Tutorials</a></p></div></div></div></section></main><footer class="bg-secondary text-light text-center"><div class="container py-5"><p><small><a href=/privacy/>Privacy Policy</a></small></p><p><svg viewBox="0 0 440 176" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;max-height:1rem"><g transform="matrix(1,0,0,1,-2574,-792)"><g id="Unprotected-primary-color-logogram-on-transparent-background" serif:id="Unprotected primary color logogram on transparent background" transform="matrix(1.12719,0,0,0.885774,2612.5,797.543)"><rect x="-34.159" y="-6.258" width="390.352" height="198.696" style="fill:none"/><clipPath id="_clip1"><rect x="-34.159" y="-6.258" width="390.352" height="198.696"/></clipPath><g clip-path="url(#_clip1)"><g transform="matrix(3.69565,0,0,4.16217,-240.2,-272.956)"><g transform="matrix(0.105625,-6.62507e-18,5.86335e-18,0.119347,45.1899,52.1434)"><path d="M1e2 5e2 3e2 3e2 1e2 1e2h67.274C252.258 1e2 333.761 133.757 393.857 193.846 397.723 197.712 4e2 199.988 4e2 199.988L5e2 99.976 699.976 1e2 8e2 200.024 9e2 1e2h2e2L9e2 3e2l2e2 2e2H1032.74C947.747 5e2 866.238 466.238 806.141 406.141 802.276 402.276 8e2 4e2 8e2 4e2L7e2 5e2H5e2L7e2 3e2 6e2 200.024 3e2 5e2H1e2z" style="fill:#0af"/></g><g transform="matrix(0.105625,0,0,0.119347,45.1899,40.2116)"><path d="M5e2 599.976l4e2-4e2L7e2 199.953 3e2 599.976H5e2z" style="fill:#0e1112;fill-opacity:.2"/></g></g></g></g></g></svg></p><p><small>Copyright © 2017-2020 Michael Schmidle<br>Original content released under the <a href=http://creativecommons.org/licenses/by/4.0/>CC BY 4.0 International</a> license</small></p></div></footer><script src=https://code.jquery.com/jquery-3.4.1.slim.min.js integrity=sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js integrity=sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6 crossorigin=anonymous></script></body></html>