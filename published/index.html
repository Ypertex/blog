<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ypertex Blog</title>
    
    <meta name="description" content="Design. Technology. Future.">
    <meta name="generator" content="Hugo 0.56.3" />
    <link rel="shortcut icon" href="/favicon.ico">
    
    <link rel="stylesheet" type="text/css" href="/inhabitu-scss/inhabitu.css">
    <meta property="og:url" content="https://blog.ypertex.com/" />
    <meta property="og:title" content="Ypertex Blog" />
    
    
    <meta property="og:description" content="Design. Technology. Future." />
    
    <meta property="og:image" content="https://blog.ypertex.com/media/ypertex-blog-cover.png" />
    
    <meta name="twitter:card" content="summary_large_image" />
    
    <meta name="twitter:site" content="@Ypertex" />
    
</head>

<body>
    <header class="hero is-primary">
        <div class="hero-head">
            <nav class="navbar">
                <div class="container">
                    <div class="navbar-brand">
                        <a href="/"
                            class="navbar-item is-active"><img
                                class="inhabitu-navbar-logo" src="/media/logos/ypertex-logo-2017-01-inverted.png">
                            Ypertex Blog</a>
                        <a class="navbar-burger" data-target="menu"><span></span><span></span><span></span></a>
                    </div>
                    <div class="navbar-menu" id="menu">
                        <div class="navbar-end">
                            
                            <a class="navbar-item"
                                href="/articles/">Articles</a>
                            <a class="navbar-item"
                                href="/tags/">Tags</a>
                            <a class="navbar-item"
                                href="/authors/">Authors</a>
                            <a class="navbar-item" href="https://twitter.com/Ypertex"
                                title="Twitter"><i class="inhabitu-twitter icon"></i><span class="is-hidden-tablet">
                                    Twitter</span></a>
                            <a class="navbar-item" href="https://github.com/Ypertex/blog"
                                title="GitHub"><i class="inhabitu-github icon"></i><span class="is-hidden-tablet">
                                    GitHub</span></a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
        <div class="hero-body">
            <div class="container has-text-centered">
                
<p class="title is-1 is-spaced"><img src="/media/logos/ypertex-logo-2017-01.png" class="inhabitu-logo" alt="Ypertex Blog" title="Ypertex Blog"></p>

<p class="subtitle is-3">Design. Technology. Future.</p>


            </div>
        </div>
    </header>
    <main>
        




<section class="section">
    <div class="content container">
        <h1 class="title is-2">Unhide Virtual Network Adapters in Windows 10</h1>
        <p class="is-size-5">In Windows&#39; latest releases, Microsoft hides virtual adapters and networks by default. In some cases though, you need them to be available just like regular adapters and networks.</p>
<div class="level is-tablet">
    <div class="level-left">
        
        <div class="media level-item">
            <div class="media-left image is-32x32">
                <img class="inhabitu-author" src="/media/authors/michael-schmidle.jpg">
            </div>
            <small class="media-content">
                <strong><a href="/authors/michael-schmidle">Michael Schmidle</a></strong>
                <time class="heading" datetime="2019-08-18">August 18, 2019</time>
            </small>
        </div>
        
    </div>
    
    <div class="level-right">
        
        <a class="level-item tag is-rounded" href="/tags/tutorials"><span class="icon"><i class="inhabitu-tag"></i></span>Tutorials</a>
        
    </div>
    
</div>


<p>If you ever have installed a virtualization platform like VMware Workstation or Oracle Virtualbox on a Windows 10 box, you might have noticed a different behavior since recent releases (i.e. release 1903): All the virtual network adapters introduced by VMware Workstation et al. don&rsquo;t appear anymore in the &ldquo;Network and Sharing Center&rdquo; and other parts of Windows.</p>

<p>I assume that for the majority of users, these adapters showing up in all possible places of the <abbr title="Operating System">OS</abbr> just like regular network interfaces caused more confusion than it was helpful. So they changed how Windows treats virtual network adapters.</p>

<figure>
    <img src="/media/server-rack.jpg">
    <figcaption>&ldquo;It&rsquo;s easy to get confused with too many ports, so let&rsquo;s hide some.&rdquo; (Image: <a href="https://unsplash.com/photos/M5tzZtFCOfs">Taylor Vick</a>)</figcaption>
</figure>

<p>There might be cases however, in which you need Windows to treat a virtual network adapter just like a regular one. A small change in the registry and a reboot fixes this.</p>

<p>Read on to see why on earth this might cause issues or jump ahead to the <a href="#unhide-the-host-only-virtual-network-adapter">solution below</a>.</p>

<h1 id="use-case-route-all-traffic-through-a-virtual-machine">Use Case: Route All Traffic Through a Virtual Machine</h1>

<p>Cloud gaming comes with a nice value proposition: Run the latest games on powerful cloud infrastructure but only pay a fraction of the costs you would incur when owning the hardware yourself.</p>

<p>After testing a few of the services and also building my &ldquo;own&rdquo; <abbr title="Graphical Processing Unit">GPU</abbr>-powered virtual machines in the cloud (i.e. Azure and Paperspace), I&rsquo;ve come to the conclusion that the implementation of cloud gaming still has to overcome a few challenges.</p>

<p>The closest that I&rsquo;ve come to cloud gaming in a way that I would enjoy it, is renting a physical GPU-powered server, installing Windows 10 and running games on it. Of course, there are a few issues with this:</p>

<ul>
<li>It&rsquo;s not a cloud service at all since A) I have to manage the complete software stack myself and B) I am paying a monthly flat fee instead of pay-per-use.</li>
<li>Windows 10 is a client OS and as such should never be connected directly to the open Internet without any device as security gateway.</li>
</ul>

<h2 id="cost-considerations-of-self-made-cloud-gaming">Cost Considerations of Self-Made Cloud Gaming</h2>

<p>As far as I know, the only provider offering physical GPU-powered servers that more or less match the costs of buying your own ready-for-use gaming hardware is <a href="https://www.hetzner.com/">Hetzner</a>. At the time of writing, you get a <a href="https://www.hetzner.com/dedicated-rootserver/ex51-ssd-gpu">Nvidia Geforce GTX 1080 GPU</a> paired with an Intel i7 CPU and 64GB RAM for roughly EUR100 per month.</p>

<p>Considering that you would have to invest around EUR2,500 to get a comparable ready-for-use rig, the cost of the Hetzner server is comparable to buying and using a gaming PC for two years (EUR2,500 / EUR100 per month ≈ 24 months ≈ 2 years). In my opinion, that&rsquo;s a fair amortisation period for gaming hardware.</p>

<p>For the kind of games I play, the latency of around 15ms caused by my distance to the Hetzner datacenter is totally fine. So while it doesn&rsquo;t save me any money, it saves space, noise and power consumption at home. Plus, I can remotely play demanding games even on my thin clients, even if I&rsquo;m not at home (given that I&rsquo;m still within an acceptable distance to the datacenter).</p>

<h2 id="security-considerations-of-self-made-cloud-gaming">Security Considerations of Self-Made Cloud Gaming</h2>

<p>Having a Windows 10 client exposed directly to the Internet is never a good idea—no matter what security software runs on it.</p>

<p>In the case of Hetzner as provider, you could use their firewall. Unfortunately, they only allow a maximum of 10 rules per server. The game store Steam alone uses a handful of rules so you quickly exceed the maximum.</p>

<p>However, there is a smart way to avoid this public exposure when running Windows 10 on a Hetzner server:</p>

<p>Install VMware Workstation, Oracle Virtualbox or similar, then create a virtual machine with <a href="https://opnsense.org/">OPNSense</a> or some other firewall as OS on top. OPNSense is a full-blown firewall that can be exposed to a direct Internet connection more securely than a client OS like Windows 10. Hooking the firewall <abbr title="Virtual Machine">VM</abbr> between the gaming OS and the internet creates a second, more secure path:</p>

<figure>
    <img src="/media/virtual-network-adapters.svg">
    <figcaption>Creating a second and more secure Internet connection via virtual environment</figcaption>
</figure>

<p>The problem with this setup in newer Windows 10 releases: Windows disregards the virtual host-only network adapter as Internet connection. Disabling the physical adapter hence leads to Windows acting like it&rsquo;s completely offline—even if a fully working connection via the virtual environment and the secondary <abbr title="Internet Protocol">IP</abbr> address is established.</p>

<h1 id="unhide-the-host-only-virtual-network-adapter">Unhide the Host-Only Virtual Network Adapter</h1>

<p>To get Windows to treat the host-only adapter like a &ldquo;real&rdquo; one, open the Registry Editor and look for the corresponding entry.</p>

<p>For VMware Workstation, the value is located at <code>Computer\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Class\{4d36e972-e325-11ce-bfc1-08002be10318}\0010</code> in the registry. Verify that the value of <code>DriverDesc</code> in the same location is <code>VMware Virtual Ethernet Adapter for VMnet1</code>.</p>

<p>Then change the <code>*NdisDeviceType</code> value of from <code>1</code> to <code>0</code>.</p>

<p>Apply the change by rebooting your Windows 10 instance. Next time you log on, Windows will show the virtual adapter under &ldquo;Network &amp; Sharing Center&rdquo; and properly detect Internet connectivity on both links.</p>

<h1 id="finishing-touches-for-my-use-case">Finishing Touches for My Use Case</h1>

<p>Now that Windows recognizes the second connection as valid Internet connection, we need to make sure that it prioritizes the virtual network over the physical one. There are several ways to achieve this, with varying levels of security:</p>

<ol>
<li>Deactivate the physical network adapter in Windows. This is a bit inconvenient in case of issues with the firewall VM in the middle. You will need a <abbr title="Keyboard Video Mouse">KVM</abbr> console from Hetzner support to connect to your box and fix things.</li>
<li>Block connections on the Hetzner firewall for the primary IP address of the server. You can re-allow certain connections in the event you locked yourself out of the second path.</li>
<li>Change the metrics of the two adapters. This will tell Windows which of the two connections to prioritize while leaving both connections basically intact.</li>
</ol>

<p>I use a combination of 2 and 3. Either way, you will get the desired routing:</p>

<figure>
    <img src="/media/virtual-network-adapters-primary.svg">
    <figcaption>Getting Windows 10 to use the second, more secure link while keeping the original connection as a fallback option.</figcaption>
</figure>

<h1 id="conclusion">Conclusion</h1>

<p>This article showed you how to securely use Windows 10 as host operating system on a server with a direct Internet connection. Just make sure to route all traffic through a security gateway that runs inside a VM.</p>

<p>The reason why someone would do such a crazy thing to begin with: to play games on a powerful GPU-enhanced server instead of buying and operating a gaming PC at home.</p>

<hr />

<div class="message is-info">
    <h6 class="message-header">Note<i class="inhabitu-info icon"></i>
    </h6>
    <div class="message-body">
        I am in no way affiliated with Hetzner. I recommend them as IT professional who employs their services for personal use.
    </div>
</div>

    </div>
</section>
<section class="inhabitu-emphasize section">
    <div class="container">
        <span class="heading">Share this article</span>
        <div class="inhabitu-overflow box">
            <div class="level is-mobile">
                <div class="level-item">
                    <a class="tag icon is-large is-primary is-rounded" href="https://twitter.com/intent/tweet?text=Unhide%20Virtual%20Network%20Adapters%20in%20Windows%2010&amp;url=https%3a%2f%2fblog.ypertex.com%2farticles%2funhide-virtual-network-adapters-windows-10%2f" title="Twitter" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;"><i class="inhabitu-twitter"></i></a>
                </div>
                <div class="level-item">
                    <a class="tag icon is-large is-primary is-rounded" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.ypertex.com%2farticles%2funhide-virtual-network-adapters-windows-10%2f&amp;title=Unhide%20Virtual%20Network%20Adapters%20in%20Windows%2010&amp;source=Ypertex%20Blog" title="LinkedIn" onclick="window.open(this.href, 'linkedin-share', 'width=490,height=530');return false;"><i class="inhabitu-linkedin"></i></a>
                </div>
                <div class="level-item">
                    <a class="tag icon is-large is-primary is-rounded" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.ypertex.com%2farticles%2funhide-virtual-network-adapters-windows-10%2f" title="Facebook" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;"><i class="inhabitu-facebook"></i></a>
                </div>
            </div>
        </div>
    </div>
</section>


<section class="section">
    <div class="content container">
        
        
        <article>
    <h1 class="title is-3"><a href="/articles/test-your-way-to-success/">Test Your Way to Success</a></h1>
    <p class="content">Ever spent too much time on something that turned out to be based on the wrong assumptions? Here&#39;s how to make sure that you&#39;re investing your time correctly. <small class="is-size-7"><strong><a
                    href="/articles/test-your-way-to-success/">Continue&nbsp;reading</a></strong></small></p>
    <div class="level is-tablet">
    <div class="level-left">
        
        <div class="media level-item">
            <div class="media-left image is-32x32">
                <img class="inhabitu-author" src="/media/authors/michael-schmidle.jpg">
            </div>
            <small class="media-content">
                <strong><a href="/authors/michael-schmidle">Michael Schmidle</a></strong>
                <time class="heading" datetime="2019-02-28">February 28, 2019</time>
            </small>
        </div>
        
    </div>
    
    <div class="level-right">
        
        <a class="level-item tag is-rounded" href="/tags/career"><span class="icon"><i class="inhabitu-tag"></i></span>Career</a>
        
        <a class="level-item tag is-rounded" href="/tags/design"><span class="icon"><i class="inhabitu-tag"></i></span>Design</a>
        
    </div>
    
</div>
</article>
        
        
        <hr>
        
        <article>
    <h1 class="title is-3"><a href="/articles/jumpcloud-on-unsupported-linux/">Enabling JumpCloud on Unsupported Linux Systems</a></h1>
    <p class="content">JumpCloud officially supports Debian, yet refuses to run on Debian-based systems like Proxmox Virtual Environment and Openmediavault. Let&#39;s fix that. <small class="is-size-7"><strong><a
                    href="/articles/jumpcloud-on-unsupported-linux/">Continue&nbsp;reading</a></strong></small></p>
    <div class="level is-tablet">
    <div class="level-left">
        
        <div class="media level-item">
            <div class="media-left image is-32x32">
                <img class="inhabitu-author" src="/media/authors/michael-schmidle.jpg">
            </div>
            <small class="media-content">
                <strong><a href="/authors/michael-schmidle">Michael Schmidle</a></strong>
                <time class="heading" datetime="2018-11-09">November 9, 2018</time>
            </small>
        </div>
        
    </div>
    
    <div class="level-right">
        
        <a class="level-item tag is-rounded" href="/tags/tutorials"><span class="icon"><i class="inhabitu-tag"></i></span>Tutorials</a>
        
    </div>
    
</div>
</article>
        
        
        <hr>
        
        <article>
    <h1 class="title is-3"><a href="/articles/tools-for-the-smart-start-up-in-2018-2/">Tools for the Smart Start-up in 2018 (II)</a></h1>
    <p class="content">Small budgets can get you great IT infrastructure. Running great desktop and web applications on top can be very inexpensive, too. Here’s how. <small class="is-size-7"><strong><a
                    href="/articles/tools-for-the-smart-start-up-in-2018-2/">Continue&nbsp;reading</a></strong></small></p>
    <div class="level is-tablet">
    <div class="level-left">
        
        <div class="media level-item">
            <div class="media-left image is-32x32">
                <img class="inhabitu-author" src="/media/authors/michael-schmidle.jpg">
            </div>
            <small class="media-content">
                <strong><a href="/authors/michael-schmidle">Michael Schmidle</a></strong>
                <time class="heading" datetime="2018-11-07">November 7, 2018</time>
            </small>
        </div>
        
    </div>
    
    <div class="level-right">
        
        <a class="level-item tag is-rounded" href="/tags/it-recommendations"><span class="icon"><i class="inhabitu-tag"></i></span>IT Recommendations</a>
        
    </div>
    
</div>
</article>
        
        
        <hr>
        
        <article>
    <h1 class="title is-3"><a href="/articles/advertise-subnet-with-opnsense-arp/">How to Advertise Subnets to Upstream Routers with OPNsense and ARP</a></h1>
    <p class="content">If you ever wondered how to split a subnet away from a fixed upstream gateway, here’s how you can achieve this with ARP in OPNsense. <small class="is-size-7"><strong><a
                    href="/articles/advertise-subnet-with-opnsense-arp/">Continue&nbsp;reading</a></strong></small></p>
    <div class="level is-tablet">
    <div class="level-left">
        
        <div class="media level-item">
            <div class="media-left image is-32x32">
                <img class="inhabitu-author" src="/media/authors/michael-schmidle.jpg">
            </div>
            <small class="media-content">
                <strong><a href="/authors/michael-schmidle">Michael Schmidle</a></strong>
                <time class="heading" datetime="2018-08-02">August 2, 2018</time>
            </small>
        </div>
        
    </div>
    
    <div class="level-right">
        
        <a class="level-item tag is-rounded" href="/tags/tutorials"><span class="icon"><i class="inhabitu-tag"></i></span>Tutorials</a>
        
    </div>
    
</div>
</article>
        
        
        <hr>
        
        <article>
    <h1 class="title is-3"><a href="/articles/tools-for-the-smart-start-up-in-2018-1/">Tools for the Smart Start-up in 2018 (I)</a></h1>
    <p class="content">If you start a project on a small budget today in 2018, there is no need to do without state-of-the-art IT infrastructure for your team. Let me give you some ideas. [Updated June 28, 2019] <small class="is-size-7"><strong><a
                    href="/articles/tools-for-the-smart-start-up-in-2018-1/">Continue&nbsp;reading</a></strong></small></p>
    <div class="level is-tablet">
    <div class="level-left">
        
        <div class="media level-item">
            <div class="media-left image is-32x32">
                <img class="inhabitu-author" src="/media/authors/michael-schmidle.jpg">
            </div>
            <small class="media-content">
                <strong><a href="/authors/michael-schmidle">Michael Schmidle</a></strong>
                <time class="heading" datetime="2018-08-02">August 2, 2018</time>
            </small>
        </div>
        
    </div>
    
    <div class="level-right">
        
        <a class="level-item tag is-rounded" href="/tags/it-recommendations"><span class="icon"><i class="inhabitu-tag"></i></span>IT Recommendations</a>
        
    </div>
    
</div>
</article>
        
        
        <hr>
        
        <article>
    <h1 class="title is-3"><a href="/articles/antiquated-form-of-most-innovative-companies/">The Antiquated Form of the World’s Most Innovative Companies</a></h1>
    <p class="content">Adults regularly vote on the most important matters of government—yet at work, they accept having usually little to no decision-making power. How come? <small class="is-size-7"><strong><a
                    href="/articles/antiquated-form-of-most-innovative-companies/">Continue&nbsp;reading</a></strong></small></p>
    <div class="level is-tablet">
    <div class="level-left">
        
        <div class="media level-item">
            <div class="media-left image is-32x32">
                <img class="inhabitu-author" src="/media/authors/michael-schmidle.jpg">
            </div>
            <small class="media-content">
                <strong><a href="/authors/michael-schmidle">Michael Schmidle</a></strong>
                <time class="heading" datetime="2018-04-05">April 5, 2018</time>
            </small>
        </div>
        
    </div>
    
    <div class="level-right">
        
        <a class="level-item tag is-rounded" href="/tags/innovation"><span class="icon"><i class="inhabitu-tag"></i></span>Innovation</a>
        
    </div>
    
</div>
</article>
        
        
        <hr>
        
        <article>
    <h1 class="title is-3"><a href="/articles/jumpcloud-curl-error-22/">Working Around the JumpCloud Curl Error 22</a></h1>
    <p class="content">JumpCloud is a great tool to enable Single Sign On for whatever devices you have. Find out how to work around curl error 22 to keep using it on Linux. <small class="is-size-7"><strong><a
                    href="/articles/jumpcloud-curl-error-22/">Continue&nbsp;reading</a></strong></small></p>
    <div class="level is-tablet">
    <div class="level-left">
        
        <div class="media level-item">
            <div class="media-left image is-32x32">
                <img class="inhabitu-author" src="/media/authors/michael-schmidle.jpg">
            </div>
            <small class="media-content">
                <strong><a href="/authors/michael-schmidle">Michael Schmidle</a></strong>
                <time class="heading" datetime="2017-06-21">June 21, 2017</time>
            </small>
        </div>
        
    </div>
    
    <div class="level-right">
        
        <a class="level-item tag is-rounded" href="/tags/tutorials"><span class="icon"><i class="inhabitu-tag"></i></span>Tutorials</a>
        
    </div>
    
</div>
</article>
        
    </div>
</section>


<section class="inhabitu-emphasize section">
    <div class="content container">
        <nav class="container pagination is-small is-centered">
    <a href="" class="pagination-previous" disabled><span class="icon"><i class="inhabitu-chevron-left"></i></span> Previous page</a>
    <a href="/2/" class="pagination-next">Next page <span class="icon"><i class="inhabitu-chevron-right"></i></span></a>
    <span class="pagination-list is-hidden-mobile">Page 1 of 2</span>
</nav>
    </div>
</section>


    </main>
    <footer class="footer">
        <div class="content container has-text-centered">
            <div class="columns is-centered">
                
                <div class="column is-narrow">
                    <a href="https://twitter.com/Ypertex"><i class="inhabitu-twitter icon"></i> Twitter</a>
                </div>
                
                
                <div class="column is-narrow">
                    <a href="https://github.com/Ypertex/blog"><i class="inhabitu-github icon"></i> GitHub</a>
                </div>
                
                <div class="column is-narrow">
                    <a href="/index.xml" title="RSS"><i class="inhabitu-rss icon"></i> RSS</a>
                </div>
            </div>
            <p class="is-size-7"><a href="/privacy/">Privacy Policy</a></p>
            <p class="is-size-7">Copyright © 2017-2019 <a
                    href="/">Ypertex Blog</a> ·
                Some rights reserved<br>
                Original content released under the <a
                    href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License (CC BY 4.0)</a>
            </p>
        </div>
    </footer>
    <script type="text/javascript" src="/inhabitu.js"></script>
</body>

</html>